<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="user.css">
	<title>Document</title>
</head>
<body>
	<div class="box smoothAppear" id="registerBox">
		<h2>Edit Profile</h2>
		<form id="registerForm" enctype="multipart/form-data">
			<div class="editProfilePicture">
				<img src="plankton.jpg" alt="...">
				<button class="butn" id="chooseImage">
					<input type="file" accept="image/*" id="imageInput" hidden>
					<label for="imageInput">Choose Image</label>
				</button>
			</div>
			<div class="inputBox">
				<input type="text" name="username" required onkeyup="this.setAttribute('value', this.value);" value="">
				<label>Change Username</label>
			</div>
			<div class="inputBox">
				<input type="email" name="email" required onkeyup="this.setAttribute('value', this.value);" value="">
				<label>Change Email</label>
			</div>
			<div class="form-check form-switch" style="color: white; margin-bottom: 20px;">
				<input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault" onchange="togglePasswordFields()">
				<label class="form-check-label" for="flexSwitchCheckDefault">Change Password</label>
			</div>
			<div class="inputBox passwordField" style="display: none;">
				<input type="password" name="password" required value=""
					onkeyup="this.setAttribute('value', this.value);"
					pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
					title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters">
				<label>Old Password</label>
			</div>
			<div class="inputBox passwordField" style="display: none;">
				<input type="password" name="password" required value=""
					onkeyup="this.setAttribute('value', this.value);"
					pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
					title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters">
				<label>New Password</label>
			</div>
			<div class="inputBox passwordField" style="display: none;">
				<input type="password" name="password" required value=""
					onkeyup="this.setAttribute('value', this.value);"
					pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
					title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters">
				<label>Confirm Password</label>
			</div>
			<button class="button" type="submit">UPDATE</button>
		</form>
	</div>
	<script>
		function chooseImage() {
			// Create a file input element
			var input = document.createElement('input');
			input.type = 'file';
			input.accept = 'image/*';
			
			// Trigger click event on the file input
			input.click();
			
			// Handle the file selection
			input.addEventListener('change', function() {
				var file = input.files[0];
				if (file) {
					var reader = new FileReader();
					reader.onload = function(e) {
						// Replace the image source with the selected image
						document.querySelector('.editProfilePicture img').src = e.target.result;
					}
					reader.readAsDataURL(file);
				}
			});
		}
	
		// Function to show/hide password fields based on the switch
		function togglePasswordFields() {
			var switchElement = document.getElementById('flexSwitchCheckDefault');
			var passwordFields = document.querySelectorAll('.passwordField');
	
			if (switchElement.checked) {
				// Show password fields
				passwordFields.forEach(function(field) {
					field.style.display = 'block';
				});
			} else {
				// Hide password fields
				passwordFields.forEach(function(field) {
					field.style.display = 'none';
				});
			}
		}
	
		// Initial call to set the initial state
		togglePasswordFields();
	</script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>

